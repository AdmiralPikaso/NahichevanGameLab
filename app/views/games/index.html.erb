<h1>üéÆ –ö–∞—Ç–∞–ª–æ–≥ –∏–≥—Ä</h1>

<%= link_to "‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É", new_game_path, class: "btn btn-primary" %>

<% if @games.any? %>
  <div class="games-list mt-4">
    <% @games.each do |game| %>
      <div class="card mb-3">
        <div class="row g-0">
          <% if game.cover_url.present? %>
            <div class="col-md-3">
              <img src="<%= game.cover_url %>" 
                   alt="<%= game.title %>" 
                   class="img-fluid rounded-start"
                   style="max-height: 200px; object-fit: cover;">
            </div>
          <% end %>
          
          <div class="<%= game.cover_url.present? ? 'col-md-9' : 'col-12' %>">
            <div class="card-body">
              <h5 class="card-title">
                <%= link_to game.title, game %>
                <% if game.metacritic_score.present? %>
                  <span class="badge bg-<%= game.metacritic_score >= 75 ? 'success' : game.metacritic_score >= 50 ? 'warning' : 'danger' %> ms-2">
                    <%= game.metacritic_score %>
                  </span>
                <% end %>
              </h5>
              
              <p class="card-text">
                <small class="text-muted">
                  üìÖ <%= game.release_date %>
                  <% if game.developers.any? %>
                    | üë®‚Äçüíª <%= game.developer_names %>
                  <% end %>
                </small>
              </p>
              
              <% if game.description.present? %>
                <p class="card-text"><%= truncate(game.description, length: 150) %></p>
              <% end %>
              
              <div class="mt-2">
                <%= link_to "üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä", game, class: "btn btn-sm btn-outline-primary" %>
                <%= link_to "‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å", edit_game_path(game), class: "btn btn-sm btn-outline-secondary" %>
                <%= link_to "üóëÔ∏è –£–¥–∞–ª–∏—Ç—å", game, 
                    method: :delete, 
                    class: "btn btn-sm btn-outline-danger",
                    data: { confirm: "–£–¥–∞–ª–∏—Ç—å –∏–≥—Ä—É '#{game.title}'?" } %>
              </div>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
<% else %>
  <div class="alert alert-info mt-4">
    <p>–ò–≥—Ä –ø–æ–∫–∞ –Ω–µ—Ç. <%= link_to "–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é!", new_game_path %></p>
  </div>
<% end %>